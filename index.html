<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" type="image/x-icon" href="/images/favicon.ico">
        <title id="title"></title>
        <script src="https://cdn.tailwindcss.com"></script>

        <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            .section { margin-bottom: 20px; }
            #pager {
                display: flex;
                flex-direction: column;
            }            
    
        </style>
            
    </head>
    <body class="bg-gray-100 text-gray-900">

    <!-- Banner -->
    <div id="banner" class="w-full">
        <img src="images/banner.jpg" alt="News Banner">
    </div>
    
    
    <div id="title" class="w-full flex items-center" style="background-color: #fc4535;">
      <a href="index.html"><img src="images/logo.jpg" alt="News Logo" class="h-auto"></a>
      <div class="flex-grow text-center">
          <h1 id="title_heading" style="color:#1a6198;"></h1>
      </div>
    </div>

    <div id="navigation" class="section text-center">
        <h2 id="summaries_heading" class="text-2xl">Daily Aggregated News</h2>
        <div id="daily_summaries_pages" >
            <ul id="pager" class="w-full flex justify-center"></ul>
        </div>
    </div>

        <script>
            // Save website's name in global JS variable
            var websiteName = "News'n'Clues";
            let title = `${websiteName} - News Aggregator`;
            // Generate title element
            document.getElementById("title_heading").innerHTML = `${title}`

            // Generate title heading with current date
            var currentDate = new Date().toISOString().split('T')[0];
            
            var titleHeading = document.getElementById("title_heading")
            titleHeading.innerHTML = `${title}`;
            titleHeading.className = "text-4xl font-bold mb-4";
            let days = 7

            document.addEventListener('DOMContentLoaded', function() {
                const today = new Date();
                let pagerHtml = "";
                let daysChecked = 0;
                let daysAvailable = 0;

                function checkFileExists(dateString, callback) {
                    let filePath = `${dateString}/${dateString}.html`;
                    fetch(filePath, { method: 'HEAD' })
                        .then(response => {
                            callback(response.ok, dateString, filePath);
                        })
                        .catch(() => {
                            callback(false, dateString, filePath);
                        });
                }

                function updatePager() {
                    if (daysAvailable > 0) {
                        document.getElementById("pager").innerHTML = pagerHtml;
                    } else {
                        document.getElementById("no-news").style.display = "block";
                    }
                }

                for (let i = 0; i < days; i++) {
                    let date = new Date();
                    date.setDate(today.getDate() - i);
                    let dateString = date.toISOString().split('T')[0];

                    checkFileExists(dateString, function(exists, dateString, filePath) {
                        daysChecked++;
                        if (exists) {
                            let activeClass = (daysAvailable === 0) ? 'class="active"' : '';
                            pagerHtml += `<div ${activeClass}><a href="${filePath}">${dateString}</a></div><br/>`;
                            daysAvailable++;
                        }
                        if (daysChecked === days) {
                            updatePager();
                        }
                    });
                }
            });
        </script>

        <footer class="text-center text-sm text-gray-500 mt-12">
            <b>Copyright &copy; <script>document.write(new Date().getFullYear());</script> - <a href='mailto:newsnclues@gmail.com?subject=News Aggregator Inquiry'>News And Clues</a></b>
        </footer>
    
    </body>
<<<<<<< HEAD
</html>
=======
</html>
>>>>>>> 79ca700 (basic site)
